<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.22" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>java/handle-different-envrionement: My Struggle — Life goes on...</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="java/handle-different-envrionement"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><span><span class="tc-tiddler-title-icon" style="fill:;"></span><h2 class="tc-title">java/handle-different-envrionement</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>26th July 2020</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"></div>
</div>

<div class="tc-tiddler-body tc-reveal"><hr><p>title: Java - 一次从屎稿到成稿的发布<br>date: 2019-12-24<br>edit: 2019-12-24<br>layout: post<br>status: Completed<br>categories:</p><ul><li><p>Java<br>tags:</p></li><li><p>Java<br>description: 从仓促应对的屎稿，到优化的成稿，源于经验不足。</p></li></ul><hr><h1>背景</h1><p>用户的需求至上，因为插件版本不同，我们得支持，虽然只需要改屈指可数的几个文件而已，（其他都是公用），由于我经验不足，加上客观理由（急用），也因为最近刚学了分支开分流...,</p><h2>屎稿</h2><p>于是，用我有限的脑子和经验，立马决定新开分支，晚上加班搞定；</p><h2>中间稿 1</h2><p>然而，第二天又有新需求改动，改的是公用文件，忙死我了，合并分支~</p><p>稍微空了，想想也觉得自己太笨了，干嘛新开分支，做成个新的模块嵌进主分支项目就好了不是？</p><h2>中间稿 2</h2><p>于是，加模块，删分支，轻松多了；</p><p>又然而，还是有新需求，改公用文件，一不小心就改了另一个模块，然后怎么也跑不通，发现改错模块了，又是好多坑；</p><h2>未成稿</h2><p>继续想，我可以把两个模块的公用部分抽离出来，做成新的公用模块啊，这不就舒服多了？</p><p>这么想着，还没开动，正好和同事沟通其他事，他经验丰富，顺便请教他，我的这个问题和现在的思路。</p><p>他建议，可以考虑试试 <a href="https://maven.apache.org/guides/introduction/introduction-to-profiles.html" target="_blank">Maven Profile</a> 呢，正是为不同环境 build 设计的。</p><p>恍悟，原来这种现实问题，早已经有现成的工具，我咋就没想到呢？</p><h2>成稿</h2><p>于是学习 <code>maven profile</code>, 终于<code>专业</code>的解决这个问题，虽然在实施的时候还是遇到蛮多问题（新手没办法~），不过这次收获也不少。</p><p>从 新开分支 -&gt; 新加模块 -&gt; 抽取公用模块 -&gt; 利用现有 <code>mvn profile</code>，这一番折腾，也许当初设计 profile 的人也有经历过类似，说不准呢？</p><h2>参考</h2><ul><li><p><a href="https://maven.apache.org/guides/introduction/introduction-to-profiles.html" target="_blank">Maven – Introduction to build profiles</a></p></li></ul><h2><a class="tc-tiddlylink tc-tiddlylink-missing" href="ChangeLog.html">ChangeLog</a></h2><ul><li><p>2019-12-24 update</p></li><li><p>2019-12-24 init</p></li></ul></div>



</div>

</p>
</section>
</body>
</html>
