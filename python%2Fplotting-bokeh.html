<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.22" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>python/plotting-bokeh: My Struggle — Life goes on...</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="python/plotting-bokeh"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><span><span class="tc-tiddler-title-icon" style="fill:;"></span><h2 class="tc-title">python/plotting-bokeh</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>26th July 2020</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"></div>
</div>

<div class="tc-tiddler-body tc-reveal"><hr><p>title: Python 绘图 - Bokeh 初探<br>date: 2020-01-30<br>edit: 2020-01-30<br>layout: post<br>status: Completed<br>categories:</p><ul><li><p>Python<br>tags:</p></li><li><p>Python<br>description:  焦点词：交互式，高性能，浏览器。</p></li></ul><hr><h1>背景</h1><p>想了解一下 python 中的几个绘图工具，及其应用场景。<code>bokeh</code> 为其一.</p><p>先放一段 Bokeh 的 Vision：</p><blockquote><p>Bokeh is an <strong>interactive</strong> visualization library that targets modern web browsers for presentation. Its <strong>goal</strong> is to provide elegant, concise construction of versatile graphics, and to extend this capability with <strong>high-performance</strong> interactivity over very large or streaming datasets. Bokeh can help anyone who would like to quickly and easily create interactive plots, dashboards, and data applications.</p></blockquote><p>焦点词：交互式，高性能，浏览器。</p><h1>安装</h1><p><code>pip install bokeh</code> 或使用镜像 <code>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple bokeh</code></p><h1>跑个 demo</h1><p>参考：<a href="https://docs.bokeh.org/en/latest/docs/user_guide/quickstart.html#getting-started" target="_blank">Quickstart — Bokeh 1.4.0 documentation</a></p><p>基本步骤：</p><ul><li><p>准备数据</p></li><li><p>确定输出方式：</p><ul><li><p>html 文件 或</p></li><li><p>Jupyter Notebook</p></li></ul></li><li><p>建Figure模块（对象）：</p><ul><li><p>用 <code>bokeh.plotting</code> 模块</p><ul><li><p>主要的函数：<code>figure()</code></p></li></ul></li></ul></li><li><p>画图：</p><ul><li><p>glyphs, 比如线形图，圆饼等</p></li><li><p>如 <code>line</code></p></li></ul></li><li><p>显示或保存图</p><ul><li><p><code>show()</code></p></li><li><p><code>save()</code></p></li></ul></li></ul><p>demo 代码：</p><pre><code>from bokeh.plotting import figure, output_file, show

# prepare some data
x = [1, 2, 3, 4, 5]
y = [6, 7, 2, 4, 5]

# output to static HTML file
output_file(&quot;lines.html&quot;)

# create a new plot with a title and axis labels
p = figure(title=&quot;simple line example&quot;, x_axis_label='x', y_axis_label='y')

# add a line renderer with legend and line thickness
p.line(x, y, legend_label=&quot;Temp.&quot;, line_width=2)

# show the results
show(p)
</code></pre><p>实际图形就不挂出来了，跑一下代码立刻生成。</p><p><strong>输出到 Jupyter Notebook</strong></p><p>如果是在 Jupyter Notebook 中，用 output_notebook():</p><pre><code>from bokeh.io import output_notebook
output_notebook()
</code></pre><h1>理解基本概念</h1><p>参考：<a href="https://docs.bokeh.org/en/latest/docs/user_guide/concepts.html" target="_blank">Defining Key Concepts — Bokeh 1.4.0 documentation</a></p><blockquote><p>Bokeh is an <strong>interactive</strong><strong>visualization</strong> library for modern web browsers. It provides elegant, concise construction of versatile <strong>graphics</strong>, and affords high-performance interactivity over large or streaming datasets. Bokeh can help anyone who would like to quickly and easily make interactive plots, dashboards, and data applications.</p></blockquote><p>在浏览器中 交互式图表库，<code>interactive</code> 怎么理解呢？</p><p>一个简单的例子，比如<a href="https://docs.bokeh.org/en/latest/docs/user_guide/interaction/legends.html" target="_blank">Interactive Legends — Bokeh 1.4.0 documentation</a>，图表中的图例，可以点击某个或某几个显示或隐藏。</p><p>再比如，<a href="https://docs.bokeh.org/en/latest/docs/user_guide/interaction/widgets.html#button" target="_blank">Adding Widgets — Bokeh 1.4.0 documentation</a>，在浏览器页面上添加 button 等控件。</p><p>Bokeh Python 库 和 Bokeh 客户端库 <a class="tc-tiddlylink tc-tiddlylink-missing" href="BokehJS.html">BokehJS</a>（有自己的API), 负责浏览器上图形的绘制和 render，所以这些交互式操作有 JS 的支持，这估计是 bokeh 的一大特色。</p><p>大致的结构和接口：</p><pre><code>- 最上层:**BokehJS**          render UI and handle UI interactions
            |--- Documents
                    |---Models：
                          |------plots
                                  |------glyphs
                          |------widgets 
                                
                    |---Data：      图表所需的数据
                    |---Widgets：   交互式控件，如 button 等
                    

- 中间层: **boken.plotting**
            |---figure()  -&gt; Figure Model

- 最底层: **bokeh.models**
</code></pre><h1>References</h1><ul><li><p><a href="https://github.com/bokeh/bokeh" target="_blank">bokeh/bokeh: Interactive Data Visualization in the browser, from Python</a></p></li><li><p><a href="https://docs.bokeh.org/en/latest/docs/user_guide/concepts.html" target="_blank">Defining Key Concepts — Bokeh 1.4.0 documentation</a></p></li><li><p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/" target="_blank">Pypi  镜像站使用帮助  清华大学开源软件镜像站  Tsinghua Open Source Mirror</a></p></li><li><p><a href="https://realpython.com/python-data-visualization-bokeh/" target="_blank">Interactive Data Visualization in Python With Bokeh</a></p></li></ul><h1><a class="tc-tiddlylink tc-tiddlylink-missing" href="ChangeLog.html">ChangeLog</a></h1><ul><li><p>2020-01-30 init</p></li></ul></div>



</div>

</p>
</section>
</body>
</html>
