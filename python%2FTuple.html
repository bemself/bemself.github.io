<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.22" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>python/Tuple: My Struggle — Life goes on...</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="python/Tuple"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><span><span class="tc-tiddler-title-icon" style="fill:;"></span><h2 class="tc-title">python/Tuple</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>26th July 2020</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"></div>
</div>

<div class="tc-tiddler-body tc-reveal"><hr><p>title: Python - Tuple 怎么用，为什么有 tuple 这种设计？<br>date: 2019-12-22<br>edit: 2019-12-22<br>layout: post<br>status: Completed<br>categories:</p><ul><li><p>Python<br>tags:</p></li><li><p>Python<br>description:  Python tuple 什么时候用？</p></li></ul><hr><h1>背景</h1><p>看到有同学很执着的用 <code>tuple</code>，想起自己刚学 <code>python</code> 时，也是很喜欢 <code>tuple</code>，为啥？因为以前从来没见过这种样子的数据 <code>(1,2)</code>, 感觉很特别，用起来也挺好用 <code>i,j=(1,2)</code>, 一下子就得到两个变量了；</p><p>而且如果函数返回值超过 1 个的话， 用 <code>tuple</code> 挺好，直接就返回了，解析起来也方便。</p><p>但 <code>tuple</code> 为啥这么好？是真的这么好吗？真的这么好，为啥比如 <code>json</code> 什么的很少用 <code>tuple</code> 呢？没有细想过。</p><h2>探索</h2><p>所以就挺想搞明白，为啥设计了 <code>tuple</code>，应该怎么用？</p><p>去官网查，找到<a href="https://docs.python.org/3/faq/design.html#why-are-there-separate-tuple-and-list-data-types" target="_blank"> why are there separate tuple and list data types</a>，有点感觉了。</p><p>大致写一下理解：</p><p><code>tuple</code> 和 <code>list</code> 很相似，但基本的用处还是不一样的。</p><p><code>tuple</code> 的设计类似于 Pascal records 或 C structs（这两个都不熟悉。。。）；</p><p>它是啥？</p><ul><li><p>一组相关联的数据的集合</p><ul><li><p>集合规模 小</p></li></ul></li><li><p>这些数据可以是不同类型</p><ul><li><p>但合起来是一个组合</p></li></ul></li></ul><p>一个比较典型的应用是，笛卡尔坐标系，<code>(x,y,z)</code> 表示一个物体的坐标。看起来是挺直观的，比 <code>list</code>,<code>dict</code>都直观。</p><p>还有一点， <code>tuple</code> 是 <code>immutable</code> 类型，就是说，一旦定义了 <code>tuple</code>, 它里面的数据就不能更改了。比如:</p><pre><code>&gt;&gt;&gt; a = (1,2)
&gt;&gt;&gt; a[0]=3
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: 'tuple' object does not support item assignment
&gt;&gt;&gt; a[0]
1
</code></pre><p>我定义了一个 <code>tuple</code> a, 我想更改它的第一个值，但是报错了 <code>'tuple' object does not support item assignment</code>, 这个错其实就是提示了， <code>a</code> 里面的值是不能更改了。</p><p>如果你想更改，那不如改为定义一个 <code>list</code>, 这个 <code>list</code> 就是 <code>mutable</code> 的，即可以任意更改里面的值，这个大家基本都熟悉常用的了。</p><h2>小结</h2><p><code>tuple</code> 用起来比较爽的地方有几个，依我自己的感觉：</p><ul><li><p>组合(group)的感觉比较好，正如其设计的，<code>tuple</code> 就是将几个相关的组合起来代表某个事/物</p><ul><li><p>我的理解是，这个组合起来的事物，是有某个具体有意义的事物，比如笛卡尔坐标系</p></li></ul></li><li><p>解析的时候比较方便，比如如下，一行代码就可以获得两个变量了</p></li></ul><pre><code>&gt;&gt;&gt; i , j = (1, 2)
&gt;&gt;&gt; i
1
&gt;&gt;&gt; j
2
</code></pre><ul><li><p>同样，设计一个函数，需要返回多个变量的时候，可以用 <code>list</code>, 但也可以用 <code>tuple</code>, 解析的时候就有了上面那条的便利。</p></li><li><p>补充一点，因为 <code>tuple</code> 是 <code>immutable</code> 的，所以可以当做 字典（dict）的 <code>key</code> 来用，因为 字典的 <code>key</code> 是用到 <code>hashtable</code> 实现的， 是不能（该）变动的。</p></li><li><p>还有啥？暂时没想到</p></li></ul><p>那不太建议用 <code>tuple</code> 的地方感觉就比较重要了：</p><ul><li><p><code>tuple</code> 定义后，里面的值是不能改的，这个就很不方便了</p></li><li><p>如果 <code>tuple</code> 里面的元素之间没有什么关联的话，用起来也缺失了实际设计的本质</p></li></ul><h2>参考</h2><ul><li><p><a href="https://docs.python.org/3/faq/design.html#why-are-there-separate-tuple-and-list-data-types" target="_blank"> why are there separate tuple and list data types</a></p></li><li><p><a href="https://docs.python.org/3/faq/design.html#id21" target="_blank">why must dictionary keys be immutable?</a></p></li></ul><h2><a class="tc-tiddlylink tc-tiddlylink-missing" href="ChangeLog.html">ChangeLog</a></h2><ul><li><p>2019-12-22 init</p></li></ul></div>



</div>

</p>
</section>
</body>
</html>
