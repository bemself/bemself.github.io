<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.22" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>git/Pull-Request: My Struggle — Life goes on...</title>
</head>
<body class="tc-body">

<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists " data-tags="" data-tiddler-title="git/Pull-Request"><div class="tc-tiddler-title"><div class="tc-titlebar"><span class="tc-tiddler-controls"><span class=" tc-reveal"><button aria-label="more" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fmore-tiddler-actions" title="More actions"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="edit" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fedit" title="Edit this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="close" class="tc-btn-invisible tc-btn-%24%3A%2Fcore%2Fui%2FButtons%2Fclose" title="Close this tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span></span><span><span class="tc-tiddler-title-icon" style="fill:;"></span><h2 class="tc-title">git/Pull-Request</h2></span></div><div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div></div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal"><div class="tc-subtitle"><a class="tc-tiddlylink tc-tiddlylink-missing" href=".html"></a>26th July 2020</div></div><div class=" tc-reveal">
<div class="tc-tags-wrapper"></div>
</div>

<div class="tc-tiddler-body tc-reveal"><hr><p>title: Git - 在 Forked 仓库 如何提交 Pull Request<br>date: 2019-12-14<br>edit: 2019-12-14<br>layout: post<br>status: Completed<br>categories:</p><ul><li><p>Git<br>tags:</p></li><li><p>Git<br>description: 第一次战战兢兢的成功提 Pull Request 后, 开心没两天便发现开头就错了...</p></li></ul><hr><h1>背景</h1><p>最近参加了一个开源项目, 第一次公开提 Pull Request, 从 Github 网页直接操作, 先是认真看了下别人的, 简单了解了下 Pull Request, 成功后挺开心的, 原来也不难, 但后来就陆续遇到了问题, 比如如果别人 reivew 后要你再改点啥怎么办? 以及这个 PR 没关, 我还想做点别的不相干的啥怎么办? 这些以前我都没有思考过~</p><p>现在能顺利的提 PR 了, 回顾记录一下;</p><h2>问题重现</h2><ul><li><p>PR review的结果需要做相应修改</p></li></ul><p>一度不知道要如何提交修改, 其实只要继续在当前PR的分支下操作提交就好了</p><ul><li><p>我在master分支上提 PR</p></li></ul><p>直接导致PR未关之前, 我在master上做的改动, 全部列在这个PR下面了...</p><p>幸好发现的及时, 赶紧将 PR 设为 Working In Progress, 手忙脚乱的修复. (期间不得不面对以前一直逃避的 git revert, git reset...)</p><p>衍生的一堆问题:</p><ul><li><p>怎么删已提交的 commit</p></li><li><p>怎么删分支</p></li><li><p>如果merge分支</p></li><li><p>怎么查某个文件的历史</p></li><li><p>如何sync origin 和 upstream 仓库</p></li><li><p>...</p></li></ul><h2>在 Forked 仓库中提交 Pull Request</h2><p>一番摸索之后, 列一下自己现在觉得该这样操作:</p><h3>Fork 远程仓库</h3><blockquote><p>不用细说</p></blockquote><p>拉取到本地后, 你的 Forked 仓库成了 Origin</p><p>再把远程的被你Forked的upstream仓库加进来:</p><pre><code>git remote add upstream &lt;your forked repo's upstream&gt;
</code></pre><p>现在你的 <code>git remote -v</code> 应该有两个了, origin 和 upstream</p><p>当然别忘了把 upstream 的最新内容拉下来:</p><pre><code>git fetch upstream
git checkout master
git merge upstream/master
git pu origin master
</code></pre><p>现在你的forked仓库和它的upstream仓库是同步了.</p><h3>开发之前, 先开个新分支啊啊啊, 这个是最重要的了</h3><p>这就是所谓的<a href="https://git-scm.com/book/en/v2/Git-Branching-Branching-Workflows" target="_blank">分支开发流</a></p><p>这个词听来好久了, 却一直没有想到用, 直至现在被迫用上, 然后发觉还挺好用.</p><pre><code>git checkout -b new-branch upstream/master
&lt;make your changes&gt;
git ci -m &quot;your new changes&quot;
git pu origin new-branch
</code></pre><h3>现在可以去 Github上提 Pull Request拉</h3><blockquote><p>网页操作</p></blockquote><p>记着选择新建的分支即可</p><p>这个分支就不要再做其他无关的事情了.</p><h3>如果 PR Reviewer 要你做点改动呢</h3><p>因为你现在是在干净的分支上, 放心大胆的改后正常提交就好了:</p><pre><code>git checkout new-branch
&lt;改代码&gt;
git add .
git ci -m &quot;新改动&quot;
git pu origin new-branch
</code></pre><h3>PR approve and merge 后, 可以删除你的这个new-branch了</h3><p>参考: <a href="GIT-remove-branch.html" target="_blank">2019-12-08-GIT-remove-branch.md</a></p><h2>思考</h2><ul><li><p>在用中学</p></li></ul><h2><a class="tc-tiddlylink tc-tiddlylink-missing" href="ChangeLog.html">ChangeLog</a></h2><ul><li><p>2019-12-14 init</p></li></ul></div>



</div>

</p>
</section>
</body>
</html>
